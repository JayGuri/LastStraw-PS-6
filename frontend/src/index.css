@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #07090e;
  --bg-2: #0c1018;
  --bg-3: #111820;
  --bg-card: #0e141f;
  --bg-border: rgba(255,255,255,0.055);
  --gold: #d4900a;
  --gold-lt: #e8ab30;
  --gold-dim: rgba(212,144,10,0.12);
  --gold-glow: rgba(212,144,10,0.25);
  --ice: #4ab0d8;
  --ice-dim: rgba(74,176,216,0.1);
  --ice-glow: rgba(74,176,216,0.2);
  --critical: #d84040;
  --high: #d06828;
  --medium: #c8a018;
  --low: #38a058;
  --none: #2a3f58;
  --text: #bfcfd8;
  --text-2: rgba(170,190,205,0.55);
  --text-3: rgba(140,165,180,0.3);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; }

body {
  background-color: var(--bg);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  font-size: 15px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* ── Scrollbar ─────────────────────────────── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg-2); }
::-webkit-scrollbar-thumb { background: rgba(212,144,10,0.3); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(212,144,10,0.6); }

/* ── Selection ─────────────────────────────── */
::selection { background: rgba(212,144,10,0.25); color: var(--gold-lt); }

/* ── Noise texture overlay ─────────────────── */
.noise::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
  opacity: 0.4;
}

/* ── Grid background ─────────────────────── */
.grid-bg {
  background-image:
    linear-gradient(rgba(74,176,216,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(74,176,216,0.03) 1px, transparent 1px);
  background-size: 48px 48px;
}

/* ── Glow border utility ─────────────────── */
.glow-border {
  border: 1px solid var(--bg-border);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04), 0 4px 24px rgba(0,0,0,0.4);
}

.glow-border-gold {
  border: 1px solid rgba(212,144,10,0.25);
  box-shadow: inset 0 1px 0 rgba(212,144,10,0.06), 0 0 20px rgba(212,144,10,0.1);
}

.glow-border-ice {
  border: 1px solid rgba(74,176,216,0.2);
  box-shadow: inset 0 1px 0 rgba(74,176,216,0.06), 0 0 16px rgba(74,176,216,0.08);
}

/* ── Section headers ─────────────────────── */
.section-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  background: var(--gold-dim);
  border: 1px solid rgba(212,144,10,0.2);
  border-radius: 100px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--gold-lt);
}

.section-tag-ice {
  background: var(--ice-dim);
  border-color: rgba(74,176,216,0.2);
  color: var(--ice);
}

/* ── Log terminal ─────────────────────────── */
.log-entry {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  line-height: 1.7;
  padding: 2px 0;
  border-bottom: 1px solid rgba(255,255,255,0.02);
}

.log-entry.INFO  { color: var(--ice); }
.log-entry.WARN  { color: var(--medium); }
.log-entry.ERROR { color: var(--critical); }
.log-entry.OK    { color: var(--low); }
.log-entry.DATA  { color: var(--gold-lt); }

/* ── Hex cell ─────────────────────────────── */
.hex-cell {
  clip-path: polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
  transition: filter 0.3s ease, transform 0.3s ease;
  cursor: pointer;
}
.hex-cell:hover { filter: brightness(1.25); transform: scale(1.06); }

/* ── Risk pulse rings ─────────────────────── */
@keyframes ringPulse {
  0%   { transform: scale(1);   opacity: 0.7; }
  100% { transform: scale(2.2); opacity: 0; }
}
.ring-pulse { animation: ringPulse 1.8s ease-out infinite; }
.ring-pulse-delay { animation: ringPulse 1.8s ease-out 0.6s infinite; }

/* ── Satellite orbit path ─────────────────── */
@keyframes orbitMove {
  from { stroke-dashoffset: 1000; }
  to   { stroke-dashoffset: 0; }
}
.orbit-line {
  stroke-dasharray: 6 4;
  animation: orbitMove 3s linear infinite;
}

@keyframes satTraverse {
  from { offset-distance: 0%; }
  to   { offset-distance: 100%; }
}
.sat-dot {
  offset-rotate: auto;
  animation: satTraverse 8s linear infinite;
}

/* ── Pipeline connector ───────────────────── */
@keyframes flowLine {
  0%   { stroke-dashoffset: 40; }
  100% { stroke-dashoffset: 0; }
}
.flow-active {
  stroke-dasharray: 8 4;
  animation: flowLine 0.6s linear infinite;
}

/* ── Typewriter cursor ────────────────────── */
@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0; } }
.cursor::after {
  content: '▋';
  animation: blink 1s step-end infinite;
  color: var(--gold);
}

/* ── Number counter ──────────────────────── */
.stat-val {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  background: linear-gradient(135deg, var(--gold-lt), var(--gold));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-val-ice {
  background: linear-gradient(135deg, var(--ice), #7dd3f0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Backdrop shimmer ─────────────────────── */
@keyframes shimmer {
  0%   { background-position: -400px 0; }
  100% { background-position: 400px 0; }
}
.shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(212,144,10,0.05) 50%, transparent 100%);
  background-size: 400px 100%;
  animation: shimmer 2.5s ease-in-out infinite;
}

/* ── Radar scan ──────────────────────────── */
@keyframes radarScan {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
.radar-arm {
  transform-origin: center;
  animation: radarScan 3s linear infinite;
}

/* ── Page fade transition ─────────────────── */
.page-enter { opacity: 0; transform: translateY(16px); }
.page-enter-active { opacity: 1; transform: translateY(0); transition: opacity 0.4s ease, transform 0.4s ease; }

/* ── Code block ──────────────────────────── */
pre.code-block {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  line-height: 1.8;
  background: rgba(7,9,14,0.8);
  border: 1px solid var(--bg-border);
  border-radius: 8px;
  padding: 16px;
  overflow-x: auto;
  white-space: pre;
}

/* ── Tooltip ─────────────────────────────── */
.tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-3);
  border: 1px solid var(--bg-border);
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 12px;
  white-space: nowrap;
  pointer-events: none;
  box-shadow: 0 4px 16px rgba(0,0,0,0.5);
  z-index: 100;
}
.tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 5px solid transparent;
  border-top-color: var(--bg-3);
}

/* ── Recharts overrides ────────────────────── */
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  stroke: rgba(74,176,216,0.08) !important;
}
.recharts-tooltip-wrapper .recharts-default-tooltip {
  background: var(--bg-3) !important;
  border: 1px solid var(--bg-border) !important;
  border-radius: 8px !important;
  font-family: 'DM Sans', sans-serif !important;
}
